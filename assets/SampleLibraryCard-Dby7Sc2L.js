import{u,j as e,r as v}from"./index-DN9yehpJ.js";import{B as N,C as k,e as w,f as C,g as $,h as z,p as _,b as S,A as E}from"./index-DyJvz_uy.js";import{g as p}from"./colors-C8jCGJn0.js";import{c as o}from"./createLucideIcon-DVGlXgso.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],A=o("Calendar",M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],L=o("SquareCheckBig",B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],D=o("Square",T);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],R=o("Trash2",H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],q=o("User",V);k.register(w,C,$,z,_,S);const I=({sample:t,orientation:n="horizontal",height:c})=>{const{language:d}=u(),i=t.attributes.filter(s=>s.score>0||!0),x=s=>s.replace(/\s*\(Total\)\s*$/i,"").replace(/\s*\(totales\)\s*$/i,"").replace(/\s*\(total\)\s*$/i,"").replace(/\s*\(only for chocolate\)\s*$/i,"").replace(/\s*\(solo para chocolate\)\s*$/i,"").replace(/Sabores Atípicos\s*\/?\s*/i,"").trim(),m={labels:i.map(s=>x(d==="es"?s.nameEs:s.nameEn)),datasets:[{label:"Score",data:i.map(s=>s.score),backgroundColor:i.map(s=>p(s.id)),borderColor:i.map(s=>p(s.id)),borderWidth:1,borderRadius:4,barThickness:12}]},h={indexAxis:n==="horizontal"?"y":"x",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:s=>`Score: ${s.raw}`}}},scales:n==="horizontal"?{x:{min:0,max:10,grid:{display:!0,color:"#f0f0f0"}},y:{grid:{display:!1},ticks:{font:{size:11},autoSkip:!1}}}:{y:{min:0,max:10,grid:{display:!0,color:"#f0f0f0"}},x:{grid:{display:!1},ticks:{font:{size:9},autoSkip:!1,maxRotation:90,minRotation:45}}},layout:{padding:{top:10,bottom:0,left:0,right:0}}},r=c||(n==="horizontal"?Math.max(300,i.length*25):300);return e.jsx("div",{style:{height:`${r}px`,width:"100%"},children:e.jsx(N,{data:m,options:h})})},F=({sample:t,isSelected:n=!1,onToggleSelect:c,selectable:d=!0,onDelete:i,hideDetails:x=!1,compact:m=!1,showChart:h=!0})=>{const{language:r,t:s}=u(),[f,g]=v.useState(!1),y=a=>{if(!a)return"";if(a.includes("-")){const[l,b,j]=a.split("-");if(l.length===4)return`${j}/${b}/${l}`}return a};return e.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-cacao-100 hover:shadow-md transition-shadow relative group/card overflow-hidden h-full flex flex-col w-full ${m?"p-3":"p-4"}`,children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-start gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 flex-1 min-w-0",children:[d&&c&&e.jsx("button",{onClick:()=>c(t.id),className:"mt-1 text-gray-400 hover:text-cacao-600 transition-colors flex-shrink-0",children:n?e.jsx(L,{size:22,className:"text-cacao-600"}):e.jsx(D,{size:22})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-baseline gap-2 flex-wrap",children:[e.jsx("h3",{className:"font-bold text-xl sm:text-2xl text-cacao-900 leading-tight truncate",children:t.sampleCode}),e.jsx("span",{className:"text-gray-500 text-xs sm:text-sm font-medium",children:t.evaluationType==="cacao_mass"?r==="es"?"Masa de Cacao":"Cacao Mass":"Chocolate"})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-xs sm:text-sm text-gray-500 mt-1 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{size:12,className:"flex-shrink-0"}),e.jsx("span",{children:y(t.date)})]}),e.jsx("span",{className:"hidden sm:inline",children:"•"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{size:12,className:"flex-shrink-0"}),e.jsx("span",{className:"truncate max-w-[80px] sm:max-w-none",children:t.evaluator})]}),t.tdsProfile&&e.jsxs("div",{className:"flex items-center gap-1 text-amber-700 font-bold bg-amber-100 px-1.5 py-0.5 rounded-full","aria-label":"TDS Profile Included",children:[e.jsx(E,{size:10}),e.jsx("span",{className:"text-[10px]",children:"TDS"})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("div",{className:"flex flex-col items-end min-w-[3rem]",children:[e.jsx("span",{className:"text-2xl sm:text-3xl font-mono font-bold text-cacao-800 leading-none",children:t.globalQuality}),e.jsx("span",{className:"text-[9px] sm:text-[10px] uppercase text-gray-400 font-bold mt-0.5",children:"Score"})]}),i&&e.jsx("button",{onClick:a=>{a.stopPropagation(),i(t.id,t.sampleCode)},className:"text-gray-300 hover:text-red-500 transition-colors p-1 flex-shrink-0",title:s.delete||"Delete",children:e.jsx(R,{size:18})})]})]}),h&&e.jsx("div",{className:"mb-2 border border-pink-200 rounded-lg p-2 bg-white",style:{minHeight:"150px"},children:e.jsx(I,{sample:t,orientation:"vertical",height:150})}),!x&&e.jsx("button",{onClick:()=>g(!f),className:"w-full text-left py-2 text-cacao-700 font-bold text-lg hover:text-cacao-900 flex items-center justify-between group mt-auto",children:e.jsx("span",{children:s.viewDetails||"View Details"})}),f&&e.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-y-3 gap-x-4 animate-in slide-in-from-top-2 duration-200",children:t.attributes.filter(a=>a.score>0).map(a=>e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:p(a.id)}}),e.jsxs("span",{className:"text-gray-800 text-sm flex-1 truncate font-bold",children:[r==="es"?a.nameEs:a.nameEn,":"]}),e.jsx("span",{className:"font-bold text-gray-900 mono",children:a.score})]}),a.subAttributes&&a.subAttributes.length>0&&e.jsx("div",{className:"ml-6 space-y-1",children:a.subAttributes.filter(l=>l.score>0).map(l=>e.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-600 bg-gray-50 px-2 py-0.5 rounded",children:[e.jsx("span",{children:r==="es"?l.nameEs:l.nameEn}),e.jsx("span",{className:"font-mono font-medium",children:l.score})]},l.id))})]},a.id))})]})};export{L as S,D as a,F as b};
