const u=(t,s)=>{const n=()=>{if(s==="es"&&t.date){const r=t.date.split("-");if(r.length===3)return`${r[2]}/${r[1]}/${r[0]}`}return t.date},o=new Map;t.attributes.forEach(r=>o.set(r.id,r));const e=(r,c)=>{var d;const i=o.get(r);return i?c&&i.subAttributes?((d=i.subAttributes.find(f=>f.id===c))==null?void 0:d.score)||0:i.score:0},a=(r,c)=>{var d,f;const i=o.get(r);return((f=(d=i==null?void 0:i.subAttributes)==null?void 0:d.find(_=>_.id===c))==null?void 0:f.description)||""};return["",n(),t.time,t.evaluator,t.sampleCode,t.sampleInfo,e("cacao"),e("acidity"),e("acidity","acid_fruity"),e("acidity","acid_acetic"),e("acidity","acid_lactic"),e("acidity","acid_mineral"),e("bitterness"),e("astringency"),e("fresh_fruit"),e("fresh_fruit","ff_berry"),e("fresh_fruit","ff_citrus"),e("fresh_fruit","ff_dark"),e("fresh_fruit","ff_pulp"),e("fresh_fruit","ff_tropical"),e("browned_fruit"),e("browned_fruit","bf_dried"),e("browned_fruit","bf_brown"),e("browned_fruit","bf_overripe"),e("vegetal"),e("vegetal","veg_green"),e("vegetal","veg_earthy"),e("floral"),e("floral","flo_orange"),e("floral","flo_flowers"),e("woody"),e("woody","wood_light"),e("woody","wood_dark"),e("woody","wood_resin"),e("spice"),e("spice","sp_spices"),e("spice","sp_tobacco"),e("spice","sp_savory"),e("nutty"),e("nutty","nut_meat"),e("nutty","nut_skin"),e("caramel"),e("sweetness"),e("roast"),e("defects"),e("defects","def_dirty"),e("defects","def_mold"),e("defects","def_moldy"),e("defects","def_meaty"),e("defects","def_over"),e("defects","def_manure"),e("defects","def_smoke"),e("defects","def_other"),`"${a("defects","def_other").replace(/"/g,'""')}"`,`"${t.notes.replace(/"/g,'""')}"`,`"${t.producerRecommendations.replace(/"/g,'""')}"`,t.globalQuality,t.selectedQualityId==="uniqueness"?10:0,t.selectedQualityId==="complexity"?10:0,t.selectedQualityId==="balance"?10:0,t.selectedQualityId==="cleanliness"?10:0,t.selectedQualityId==="q_acidity"?10:0,t.selectedQualityId==="q_astringency"?10:0,t.selectedQualityId==="q_bitterness"?10:0,t.selectedQualityId==="q_aftertaste"?10:0]};export{u as generateCSVRow};
